@using System.Collections
@model IEnumerable<BIDV.Model.bidv__attach>
<h4>Tìm thấy: <span style="color: red;">@(Session["CountFile"]) files</span></h4>
<table class="table table-striped">
    <thead>
        <tr>
            <th style="width: 70px"><input id="btnCheckAll" type="checkbox" /></th>
            <th style="width:400px;">Tên</th>
            <th>Loại</th>
            <th>Dung lượng</th>
            <th style="width: 140px">Xem trước</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td><input type="checkbox" value="@item.id" /></td>
                <td>@item.name</td>
                <td>
                    @switch (item.ext)
                    {
                        case "pdf":
                            <img src="/Content/BackEnd/dist/img/pdf.ico" width="32" />
                            break;
                        case "doc":
                        case "docx":
                            <img src="/Content/BackEnd/dist/img/word.ico" width="32" />
                            break;
                        case "xls":
                        case "xlsx":
                            <img src="/Content/BackEnd/dist/img/Excel.ico" width="32" />
                            break;
                        case "mp3":
                            <img src="/Content/BackEnd/dist/img/mp3.ico" width="32" />
                            break;
                        default:
                            <img src="/Content/BackEnd/dist/img/image.ico" width="32" />
                            break;
                    }
                    @*@item.type*@
                </td>
                <td>
                    @item.size
                </td>
                <td></td>
            </tr>
        }
    </tbody>
</table>
<script>
    $(document).ready(function() {
        InitClickCheckAllInTable("btnCheckAll", function (res) {
            var arrValue = [];
            var oldValue = $("#arrattachId").val();
            if (oldValue != "" && oldValue != undefined) {
                arrValue.push(res);
                arrValue.push(oldValue);
                var join = arrValue.join();
                $("#arrattachId").val(join);
            } else {
                $("#arrattachId").val(res);
            }
        });
    });
</script>
